{% extends 'base.html' %}

{% block content %}
       <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .file-info {
            margin-bottom: 20px;
        }
        .actions button {
            margin-right: 10px;
        }
        img, video {
            max-width: 100%;
            height: auto;
        }
    </style>
    <div class="content">
    <h3>{Key}</h3>

    <h1>File Information</h1>

    <div class="file-info">
        <p><strong>Key:</strong> {{ item['Key'] }}</p>
        <p><strong>Last Modified:</strong> {{ item['LastModified'] }}</p>
        <p><strong>ETag:</strong> {{ item['ETag'] }}</p>
        <p><strong>Size:</strong> {{ item['Size'] }} bytes</p>
        <p><strong>Storage Class:</strong> {{ item['StorageClass'] }}</p>
        <p><strong>Owner:</strong> {{ item['Owner']['DisplayName'] }} (ID: {{ item['Owner']['ID'] }})</p>

        {% if item['Key'].endswith(('.jpg', '.jpeg', '.png', '.gif')) %}
            <img src="{{ url_for('get_file', key=item['Key']) }}" alt="Image">
        {% elif item['Key'].endswith('.mp4') %}
            <video controls>
                <source src="{{ url_for('get_file', key=item['Key']) }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        {% else %}
            <p>This file cannot be displayed directly.</p>
        {% endif %}
    </div>

    <div class="actions">
        <form action="{{ url_for('edit_file', key=item['Key']) }}" method="get">
            <button type="submit">Edit</button>
        </form>
        <form action="{{ url_for('delete_file', key=item['Key']) }}" method="post">
            <button type="submit" onclick="return confirm('Are you sure you want to delete this file?');">Delete</button>
        </form>
        <form action="{{ url_for('download_file', key=item['Key']) }}" method="get">
            <button type="submit">Download</button>
        </form>
    </div>
    </div>
{% endblock %}
