{% extends 'base.html' %}

{% block content %}
    <div class="content">
          {%  if filenotfound is defined %}
              <h3> FILE NOT FOUND</h3>
          {% endif %}
        <h3>Public CDN Content</h3>
        <a href="{{ url_for("public_content_gallery") }}">Gallery</a><br/>
        <div>
          <h3>Upload your file here:</h3>
          <form method="POST" action="/public_content" enctype=multipart/form-data>
            <input type=file name=file>
            <input type=submit value=Upload>
              <label class="picture-options">Mobile
                  <input type="checkbox" name="Mobile">
              </label>
              <label class="picture-options">Discord
                  <input type="checkbox" name="Discord">
              </label>
              <label class="picture-options">Remove Metadata
                  <input type="checkbox" name="Metadata">
              </label>
              <label class="picture-options">Convert .mov to .mp4
                  <input type="checkbox" name="ReMuxMovToMP4">
              </label>
          </form>
        </div>
        <div>
          <h3>These are your uploaded files:</h3>
          <p>Click on the filename to view the object.</p>
          <ul>
            {% for Key, obj in contents.items() %}
              <li class="linkcollectionli">
                <a href="{{ url_for("public_content_content", Key=Key) }}"> {{ obj.Key }} </a>
                <span class="publink">https://pub.cmh.sh/{{ Key }}</span>
                <span class="copylink">Copy</span>
              </li>
            {% endfor %}
          </ul>
        </div>
{% endblock %}
